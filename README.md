This is the official implementation for paper CADrawer: Autoregressive Generation of CAD Program.
Our system takes input as 3D sketches, and output CAD programs.

Prerequisite:
conda env create -f environment.yml

Dataset:
Dataset A is originally created by CAD2Sketch (link: https://repo-sam.inria.fr/d3/cad2sketch/cad2sketch_paper.pdf). You may download it from: https://repo-sam.inria.fr/d3/cad2sketch/cad2sketch_dataset.g
However, the original dataset only contains the CAD program but not the Brep's generation process. Also, it does not contain perturbation of strokes. We have implementation our version of the dataset that can be found at : https://drive.google.com/drive/folders/1eEomAZ0Ju_r_dClBIOx5vRbvfPeKS6Gk?usp=drive_link. 

Dataset B can be procedurally generated by our code. You may run python generate_dataset.py to generate it. For more control on the number of data/program length, please consult preprocessing/generate_dataset_baseline.py. 


Testing: 
You may find our trained model weights: https://drive.google.com/drive/folders/1b8nFyN5CjrROkTvIogoKSCM5nBmydPzm?usp=sharing
Please copy the entire folder and put under /checkpoints
Run python generate_CAD_program.py for testing. Results will be saved into /program_output_dataset. 


Training: 
Please run run_predictions.sh. It will train on all models required. 

UI:
For testing on extra self designed data, please use system from: https://www-sop.inria.fr/reves/Basilic/2025/WB25/ to input and uplift sketches to 3D. 
This repo can be found at : https://gitlab.inria.fr/D3/blender-addon-symmetry-sketch
